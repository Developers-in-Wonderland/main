# 회의 기록

* 일시: **6주차 (2025-10-06 ~ 2025-10-12)**
* 장소: 온라인, 오프라인
* 작성자: 김종원

## 참석자

* 김종원
* 김동현
* 손홍준
* 최민주

---

## 진행 내용

* 기존 해상도 **640×480(VGA)** 기반 코드에서 **FHD(1920×1080)** 전환 시 동작 불가 문제 발생
* 영상 프레임 버퍼 및 ROI 연산 영역이 해상도 확장에 대응하지 못해 오류 발생 → **코드 전면 수정**으로 해결
* 해상도 변경 후 프레임 처리 속도가 **심각하게 저하(지연)** 되어, **프레임 병렬 처리 및 최적화 기법** 적용
* 수정 후 **FHD 환경에서도 실시간 동작 가능** 수준으로 성능 개선 확인

---

## 논의 내용

* **문제 원인 분석**

  * FHD 전환 시 연산량이 약 **3.4배 증가(640×480 → 1920×1080)**
  * 기존 단일 스레드 구조에서 영상처리 루프가 병목 발생
  * ROI 계산 시 매 프레임마다 `cv2.resize` 반복 호출로 CPU 부하 과도
* **개선 방법**

  * **ROI 사전 계산 및 캐싱** 적용 → 불필요한 반복 연산 제거
  * **Thread 기반 병렬 처리**로 얼굴 검출과 추적을 분리
  * **프레임 스킵 제어(Adaptive skip)** 기법 도입 → 실시간성 확보
  * **OpenCV DNN 모듈 최적화 옵션 (cv2.dnn.DNN_TARGET_CPU_FP16)** 적용
* **개선 결과**

  * FHD 환경 기준 **처리 속도 향상**
  * 평균 처리 지연 **시간 단축**

---

## 최종 평가지표 (유지)

| 구분                                | 측정 방법                                                                                                                                                    | 목표 지표                                                         |
| --------------------------------- | -------------------------------------------------------------------------------------------------------------------------------------------------------- | ------------------------------------------------------------- |
| **평가지표 1. 얼굴 재인식 시간 (FRT)**       | 얼굴이 수평(±1.0 m), 수직(±0.50 m), 대각선(±0.70 m) 중 한 방향으로 **0.5 m/s** 등속 이동 시, 로봇팔이 따라간 뒤 다시 얼굴이 인식되기까지의 시간 측정                                                  | **≤ 2초**                                                      |
| **평가지표 2. 로봇팔 저속 추적 안정성 (IFR10)** | 사용자가 **30 cm를 3 s(10 cm/s)** 동안 단일 방향으로 이동. 매 프레임 얼굴 중심 ((x_t,y_t)) 기록 → 연속 프레임 벡터 (d_t=\sqrt{(\Delta x)^2+(\Delta y)^2}) 계산 → (d_t \le 10) px 프레임 비율 산출 | **≥ 85%**<br>![IFR10 목표 수치 예시](assets/IFR10_target.png)       |
| **평가지표 3. 정지 고정 안정성 (ICR3)**      | (**정지 전**) 사용자 **30 cm·3 s(10 cm/s)** 이동 → (**정지 구간**) **3 s 정지**. 첫 좌표를 기준으로 **지름 = 프레임 가로의 3%**인 원을 그리고, 정지 구간 프레임들의 **원 내부 비율** 계산                    | **원 내부 비율 ≥ 80%**<br>![ICR3 목표 수치 예시](assets/ICR3_target.png) |

---

## 기타 논의사항

* FHD 환경에서 정상 동작이 가능해짐에 따라, 향후 **고해상도 기반 평가지표 재측정** 진행 예정
* 향후 GPU 연산(CUDA) 적용 및 TensorRT 최적화 여부 검토
* **10월 15일 재측정** 시, FHD 환경 성능을 기준으로 지표 검증 진행

---

## 다음 회의

* **일정:** 2025-10-13 (월) 예정
* **내용:** FHD 환경 재측정 리허설 및 FPS 안정화 점검
* **장소:** 오프라인
